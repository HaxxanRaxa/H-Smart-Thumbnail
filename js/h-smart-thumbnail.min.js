function changeImage(i,t){$(t).parents(".h-smart-thumbnail-container").find('img[data-index="'+i+'"]').trigger("click")}function rotateImage(i,t){$(i).find("img").removeClass("h-angle-0deg h-angle-90deg h-angle-180deg h-angle-270deg h-angle-360deg").addClass("h-angle-"+t+"deg"),$(i).attr("data-curr-angle",t)}!function(i){i.fn.hSmartThumbnail=function(t){var a=i.extend({navbutton:!0,nextbutton:!0,rotatebutton:!0,closebutton:!0},t);return this.each(function(){i(this).addClass("h-smart-thumbnail-container").find("div").addClass("h-smart-thumbnail");let t=i(this).find(".h-smart-thumb").length;i(this).attr("data-image-count",t);let n=0;i(this).find(".h-smart-thumb").each(function(){i(i(this)).attr("data-index",n++).attr("data-src",i(i(this)).find("img").attr("src")).addClass("h-pic-view")}),i(this).find("[data-index=0]").addClass("active");var e='<div class="h-big-pic-view-main">';1==a.navbutton&&(e+='<div class="h-big-pic-view-header">',1==a.rotatebutton&&(e+='<span class="icon icon-rotate-left"></span><span class="icon icon-rotate-right"></span>'),1==a.closebutton&&(e+='<span class="icon icon-close"></span>',e+="</div>")),e+='<div class="h-big-pic-view-body">',e+='<div class="h-big-pic-view-image" data-curr-index="0" data-curr-angle="0">',e+="</div></div>",1==a.nextbutton&&(e+='<span class="h-arrow h-next-image icon icon-angle-left"></span><span class="h-arrow h-prev-image icon icon-angle-right"></span>'),e+="</div>",i(this).append(e),i(".h-smart-thumb").click(function(){event.preventDefault(),i(document).find(".h-smart-thumb").removeClass("active"),i(this).addClass("active");let t=i(this).attr("data-file"),a=i(i(this)).addClass("active").attr("data-index");i(".h-big-pic-view-image").attr("data-curr-index",a),i(".h-big-pic-view-image").html('<img src="'+t+'" />'),i(".h-big-pic-view-main").show()}),i(this).find(".h-big-pic-view-main").hover(function(){i(i(this)).find(".h-arrow").css("display","inline-block")},function(){i(i(this)).find(".h-arrow").css("display","none")}),i(this).find(".h-big-pic-view-main .icon-angle-left").on("click",function(t){t.preventDefault();let a=i(i(this)).siblings(".h-big-pic-view-body").find(".h-big-pic-view-image").attr("data-curr-index"),n=i(i(this)).parents(".h-smart-thumbnail-container").attr("data-image-count");changeImage(a=0===parseInt(a)?n-1:parseInt(a)-1,i(i(this)))}),i(this).find(".h-big-pic-view-main .icon-angle-right").on("click",function(t){t.preventDefault();let a=i(i(this)).siblings(".h-big-pic-view-body").find(".h-big-pic-view-image").attr("data-curr-index"),n=i(i(this)).parents(".h-smart-thumbnail-container").attr("data-image-count");changeImage(a=parseInt(a)===n-1?0:parseInt(a)+1,i(i(this)))}),i(this).find(".h-big-pic-view-header .icon-close").on("click",function(t){t.preventDefault(),i(i(this)).parents(".h-big-pic-view-main").hide(),i(i(this)).parents(".h-smart-thumbnail-container").find("ul li").removeClass("active")}),i(this).find(".h-big-pic-view-header .icon-rotate-right").on("click",function(t){t.preventDefault();let a=i(i(this)).parents(".h-big-pic-view-main").find(".h-big-pic-view-body .h-big-pic-view-image"),n=i(a).attr("data-curr-angle");rotateImage(a,n=360===parseInt(n)?0:parseInt(n)+90)}),i(this).find(".h-big-pic-view-header .icon-rotate-left").on("click",function(t){t.preventDefault();let a=i(i(this)).parents(".h-big-pic-view-main").find(".h-big-pic-view-body .h-big-pic-view-image"),n=i(a).attr("data-curr-angle");rotateImage(a,n=0===parseInt(n)?360:parseInt(n)-90)})})}}(jQuery);
